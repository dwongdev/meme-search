<div id="search-results-returned">

  <% if @image_cores.present? %>
   
    <div data-controller="view-switcher">

    <div class="flex flex-col items-center justify-center w-auto h-full mt-8">
    <button 
      data-action="click->view-switcher#toggleView"
      class="px-4 py-2 text-white bg-purple-500 ml-5 transition-colors rounded-2xl border-black cursor-pointer"
      data-view-switcher-target="toggleButton">
      Switch to Grid View
    </button>
    </div>

    <!-- List View -->
    <div class="flex flex-col content-center items-center justify-center w-full h-full" id="search_list_image_cores" data-view-switcher-target="listView">
      <% @image_cores.each do |image_core| %>
        <%= link_to image_core do %>
          <div id="image_core_<%= image_core.id %>" class="transition-transform duration-300 transform hover:scale-105 dark:text-white bg-slate-200 dark:bg-slate-700 p-2 rounded-2xl w-auto flex m-5">
            <%= render partial: "image_core", locals: { image_core: image_core } %>
          </div>
        <% end %>
      <% end %>
    </div>

    <!-- Grid View (hidden by default) -->
    <div 
      class="hidden grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mt-4" id="search_grid_image_cores" data-view-switcher-target="gridView">
      <% @image_cores.each do |image_core| %>
        <%= link_to image_core do %>
          <div id="image_core_<%= image_core.id %>" class="transition-transform duration-300 transform hover:scale-105 dark:text-white bg-slate-200 dark:bg-slate-700 p-2 rounded-2xl">
            <%= render partial: "image_only", locals: { image_core: image_core } %>
          </div>
        <% end %>
      <% end %>
    </div>
    </div>

  <% else %>
    <%= render 'image_cores/no_search_results' %>
  <% end %>
</div>
